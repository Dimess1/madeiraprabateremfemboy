local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")
local player = Players.LocalPlayer

local webhookUrl = "https://discord.com/api/webhooks/1446237287821082664/GaFdsaIppVuOr-M-mn6CuC_TtoM0afIVuLbPs82l_lhToVXzYXOmJiRvtnSsn8kZB-ft"

local function getExecutor()
	if identifyexecutor then return identifyexecutor()
	elseif getexecutorname then return getexecutorname()
	else return "Executor desconhecido" end
end

local function getHWID()
	if syn and syn.gethwid then return syn.gethwid()
	elseif gethwid then return gethwid()
	elseif krnl and krnl.gethwid then return krnl.gethwid()
	elseif identifyexecutor and identifyexecutor():lower():find("script-ware") and typeof(crypt) == "table" and crypt.generatehwid then
		return crypt.generatehwid()
	end
	return "HWID n√£o suportado"
end

local function getGameInfo()
	local success, info = pcall(function()
		return MarketplaceService:GetProductInfo(game.PlaceId)
	end)
	if success and info and info.Name then
		return info.Name .. " (" .. game.PlaceId .. ")"
	else
		return "Jogo desconhecido (" .. game.PlaceId .. ")"
	end
end

local allowedHWIDs = {
   "5b7433d424f54c42c3c0799813f422a55b69ed8af5e821d79cf5e7b904586cce",
   "fbe58a1c-ad1e-11f0-b714-806e6f6e6963",
   "36a7aa8f8e50786d13649b61074d26228b6897825f4d53",
   "3ca50b39-7e1d-11f0-876b-806e6f6e6963",
   "3a8626174defbe1ddadee8a76a8cb7474c2a82c201cc65647f836c4f0ae4b8ea",

"8dd04c1e71ffaad78f280a166ec452ed006a87f2f370740590a52bc5cd1aa1be",

"3a083f4495006258c77e8d96da057afe4a439ce4175322e09df165a6e4d4596d",
   "88f418e3970df464d3f8f9f1df23b34e2501f25380c8bfe8dfee6ef61183e716",
   "fb12520ab91a2334583376b54a202d8267fa5bf8bf15cbb9678974d265361066",
   "14919e07e4f914da792cf0b5fa6dc28c13abf73a5f3670832bb822db316b90a7",
   "50f5eaa15fa96f65bebd3854e59ecaa9d2bb37ff9bda84e4a5bdb4e34a0fe1cc",
   "7990f02a7b8e9abee72972f2005b6437f45781f8f44ea96828546efb503dad69",
   "5b7433d424f54c42c3c0799813f422a55b69ed8af5e821d79cf5e7b904586cce",
   "50f5eaa15fa96f65bebd3854e59ecaa9d2bb37ff9bda84e4a5bdb4e34a0fe1cc",
   "7698a88b929721274c432c33d675c4e99b40630daabb329d773206141c94963d",
   "e138cdc4f5267d2d44c645f5287e974f2451fdbed39718a75f803bf9d85c34fd",
   "10cda903b32f539a5182b795ad5b4ac79c70a470f87699da63096ffcbb635e5d",
   "50f5eaa15fa96f65bebd3854e59ecaa9d2bb37ff9bda84e4a5bdb4e34a0fe1cc",
   "68ea11d90f5ae8323132ab790e04dfb604f968c4cd4bc393f0d9c2fa7f7b162e",
   "b3c665f112b45912501b34d0f7d41aecc975a61c638e4ab23a888a7a2d697713",
   "a7273fc2adc9e8ae9107b1d117d0419cf6a4632c1aebc60c5948d606e8da7fcd",
   "adeb6799e99114f2e4e01652b9f6b478bdb62b01e3e88c37903dfd1bc7b0b0e7",
   "88f418e3970df464d3f8f9f1df23b34e2501f25380c8bfe8dfee6ef61183e716",
   "50f5eaa15fa96f65bebd3854e59ecaa9d2bb37ff9bda84e4a5bdb4e34a0fe1cc",
   "2308a55363234ba3d349e1adf3316b289c1e1d4951c3a638228add99f105884d",
   "ef02498d9bb1a4a623692c7fc98ec4812827502b603a5d291f1244ecde6119a2",
   "0fce3d85d7a323aae2bf609a47b9de0bb821fcf54e58b8622b47b4e1cb2e95cf",
   "b028395d4ce8e7dba7d8b63dd26b00a78f27b320fa20defa95ddc8aa4649a8ad6717a3ecf9033b6fb578605f68aea13c",
   "50f5eaa15fa96f65bebd3854e59ecaa9d2bb37ff9bda84e4a5bdb4e34a0fe1cc",
   "db2f3e1deb19fd99c277400cd2d98aa3938ffe21a02f1e78746f4625597ceafc",
   "22bf963c4b324d4d",
   "a521f5c0-982a-11f0-9522-806e6f6e6963",
}

local hwid = getHWID()
local isValid = false
for _, id in ipairs(allowedHWIDs) do
	if hwid == id then isValid = true break end
end

local payload = HttpService:JSONEncode({
	username = "üéØ Logger",
	embeds = {{
		title = isValid and "‚úÖ HWID VERIFICADO" or "‚ùå HWID N√ÉO REGISTRADO",
		color = isValid and 65280 or 16711680,
		fields = {
			{ name = "üë§ Jogador", value = player.Name.." ("..player.UserId..")", inline = true },
			{ name = "üíª Executor", value = getExecutor(), inline = true },
			{ name = "üéÆ Jogo", value = getGameInfo(), inline = false },
			{ name = "üîê HWID", value = hwid, inline = false },
			{ name = "üîî Status", value = isValid and "HWID registrado e autorizado." or "HWID n√£o registrado ‚Äî kick executado.", inline = false }
		},
		footer = { text = "Data: "..os.date("%d/%m/%Y %H:%M:%S") }
	}}
})

local req = (syn and syn.request) or (http and http.request) or rawget(_G,"http_request") or rawget(_G,"request")
if req then
	pcall(function()
		req({
			Url = webhookUrl,
			Method = "POST",
			Headers = { ["Content-Type"]="application/json" },
			Body = payload
		})
	end)
else
	pcall(function()
		HttpService:PostAsync(webhookUrl, payload, Enum.HttpContentType.ApplicationJson)
	end)
end

if not isValid then
	pcall(function()
		player:Kick("HWID n√£o registrado! Por favor abra ticket.")
	end)
end
